Speaker A: Thankless nation. We have a bonus episode for you today because I think this requires almost a mid week look at what is going on in crypto, specifically what is going on with Defi. David, so much going on with the curve protocol. I know you are fresh back from climbing mountains, but I need your help.
Speaker B: Duty. Duty calls. Yes.
Speaker A: I need your help to understand what happened. Can you give us the TLDR of what we're going to cover in today's episode?
Speaker B: Yeah. So, there has been a series of events which have all. One has led to another. There is a coding language called Viper, which is an alternative to solidity. So it is an Ethereum coding language that had an exploit in the actual coding language that affected a certain number of DeFi protocols across Ethereum especially, and most importantly, curve curve, which is a systemic. I would call it a systemically important DeFi protocol has had some very important pools. Curve pools drained, and that has led and put pressure on the crv token. Specifically because the founder of Curve, Michael, has put up a bunch of crv tokens as collateral across Defi. So, just to recap, a coding language had an exploit in it, which led to curve liquidations. And because the founder of curve had so much CRV tokens as collateral across lending protocols, we are potentially on the cusp of a liquidation, cascading liquidations of the CRV token across DeFi, which might put holes into the balance sheets of many of these DeFi lending protocols. Did you catch that?
Speaker A: I did, and I'm so glad we called David down from the mountains in order to help us with this episode. David, I'm so glad you're back. I think what we're trying to do in today's episode is just unpack this story and let folks know as well that it's still developing, so we'll have more things to talk about. But really, in bankless fashion, we want to talk about, like, what just happened in the events in order to, like, learn from this, in order to level up on crypto. So we're going to discuss what happened, what's currently at risk right now. You might be wondering, are my assets safe? Is this a systemic issue for all of defi? How scared should I be? And then finally, what we can learn. I think that's the. That's the flow of this episode. David, you want to say anything else before we get ready to get in here?
Speaker B: Yeah, just a few more bits about curve and why it's so important. I would say curve is kind of a yin to a yang of uniswap. Perhaps, but it's specifically meant for trading, like, kind assets. So stable coins trade with stable coins, ether trades with other versions of synthetic ether, and so, like, staked ether trades with rocket pool ether or alchemyx ether, which is one of the pools drains, is traded with, uh, you know, ether. So, like, kind assets is what curve is really meant for. And it's got just a huge, huge amount of defi built on top of it. TvL in curve, total value locked in curve was 3.2 trillion up to the point of.
Speaker A: Wait, billion, billion.
Speaker B: Excuse me? Billion trillions. Different number one cycle. 3.2 billion down to 1.7 billion. So takes like a 30% haircut in the TVL. Part of that is because the hacker, uh, stole money, but really most of it is that people kind of flee from. From this. And so we'll probably watch some of that, uh, tv all return. Uh, but the. The total sum of, uh, all of the assets, uh, stolen by this exploiter, by this exploit is about $70 million. But 20 ish million dollars of the, uh, stolen money was taken back by a white hat MeV bots, which is another very interesting part of this story. Uh, so the hacker has gotten his stolen assets stolen from them, and some white hat MeV bots have returned some capital to some pools. So we have to unpack that as well. And so this is going to be. There's a number of different rabbit holes to go down around this particular topic, and we're going to try and take our time to point towards each individual one.
Speaker A: Yeah, there's so much to talk about, and yes, what you need to know at the outset of this is curve is a very important protocol in all of defi. I would say systemically important. And it certainly got a bullet wound here. So we're going to explore all of that. Guys, we'll be right back with the episode to walk you through everything that happened, what this means moving forward, and to answer the question, is Defi safe? Are we going to make it? But before we do, we want to thank the sponsors that made this episode possible.
Speaker B: And we're back. Bankless nation when you hear the words EVM compiler reveals a zero day vulnerability. It's not a good day.
Speaker A: No, that's not scary.
Speaker B: That's scary. That's a very deep part of the tech stack. There's something that actually we need to define before we move on here. There's a specific kind of vulnerability here, and this is called a reentrancy attack. This is actually reentrancy attack is actually how the DAo hack got hacked. And so a reentrancy, it's a very specific type of exploit. It's when a contract is checking to see the account balance of something, of someone, of some asset, but the attacker is able to actually execute something before the contracts are able to finish checking the state of something. And so it's like you are able to remove cash from the vending machine, and then before you finish the transaction, you actually just keep on pressing, hey, withdraw my money. Hey, withdraw my money. Hey, withdraw my money. And so you re enter, I'm doing my best as a non dev.
Speaker A: This is really good, honestly.
Speaker B: You re enter the same like, hey, you owe me $15. Hey, you owe me $15. Hey, you owe me $15. And before you finish processing the transaction, you just say, hey, withdraw my $15 5000 times, and then you finish the transaction and $15 turns into 70 million.
Speaker A: That vending machine analogy is working for me, like, just like the mental imagery. So you press d five or whatever, and you got your Snickers bar, but now you can keep hammering on that.
Speaker B: Before the vending machine delivers you the Snickers bar. You keep on saying, give me a Snickers bar, and then you do as unlimited times. Unlimited times, yeah. So that's a very simple, like, reentrancy attack. That's how the dao hack got, got hacked. And sadly, because in the Viper language, the coding language that this vulnerability was expressed, forgot, did not have the appropriate checks. Re entry reentrancy checks. So that's a very deep level of why this is all happening to begin with.
Speaker A: Just really quick on Viper, though. Okay, so it's an alternative to solidity. It's much less used compared to solidity. And so I'm not a developer, so someone come correct me. But my understanding is solidity is a bit more like JavaScript ish. Viper is python, right. So it's kind of like python derived. And so it's a different language. It was supposed to be more simple, a bit more functional, but it hasn't had a lot of adoption. But it does in some pockets, including in curve, what we're about to talk about.
Speaker B: Yeah, so we're looking at a tweet thread here from bankless hq, our analyst Jack, who just did a bang up job, really just covering all of this. And so if you want to read the tweet thread or also the newsletter, these are also fantastic sources. You can also read the Viper tweet broadcasting the reentrancy vulnerability in the next tweet, Ryan. The next next tab that you got. Or that one as well. Yeah. And so, Viper language Twitter account says Viper versions zero point, 215, 16, and three are vulnerable to malfunctioning re entrancy locks. The investigation is ongoing, but any project relying on these versions, it should immediately reach out to us. The project, of course, in question is curve, as we said in the beginning. And so I think we've done a pretty good job explaining what curve is, but it is, to put it into a metaphor, the marketplace for, like, kind assets. It is a place where tether gets turned into Dai, where Dai gets turned into USDC, where USDC gets turned into any other stable coin. And so not all curved pools were coded in Viper. Only a certain number of them. And the curved pools that were coded in Viper have all been exploited by this one exploit. So a handful of contracts, all for EtH pairs. And so there are 1234 pools that got exploited. Peth with etH, pair Ms eth with eth, al eth from Alchemyx. And so this is pindle ethnic. I can't remember what MS is. Metronome Alchemyx. And then also the curve eth pair itself, which is the curve dow. And so pendle eth that is got drained for 6000 ether, that's $11 million. Alchemyx Eth got drained for 1.6 million of ether, and then 1.8 million of metronome EtH. Excuse me, not Alchemyx. Metronome Alchemyx got drained for 7200 oof ether, which is 13.6 million, and then 4.8 thousand ether of alchemyx ether, which is 9 million. And then the curve eth pool, which is the source of all of this further contagion, got drained for 7200 cr 7000, 7,200,000 crv tokens, which is $5.1 million at the time of exploit. You can imagine that these curve token has gone down in price since, as well as 7700 wrapped ether out of the curve dow, and then also 2800 more ethereum. You sum it all together, it's about $70 million. That $70 million came, like from my side. Four different protocols, one of them being curve. But it's really the source of this contagion, and why this is getting into a bigger and bigger story, is that 7.2 million curve tokens that got taken out of the curve ether pool and is now in the hands of the attacker. And so that is the recap of the assets that has been stolen out of curve.
Speaker A: Okay, so we'll talk about sort of why this, why this matters and where we are right now, because this does have some wider implications. That's kind of spreading to other protocols here. We'll talk about that. But a quick side quest on how this actually works in practice. So my understanding, David, is that some MEV bots captured some of the exploited funds here in the process. Right. And maybe you can kind of explain how blockbuilding works. And I, and how this actually works. I was talking to some people who are staking in rocket pool. For instance, some very large call execution layer fees, some MEV fees were not donated. That's the wrong word. Were awarded to the rocket pool community.
Speaker B: Essentially, the rocket pool protocol processed the block that had a significant number of MEV bots bidding for some of the exploited funds.
Speaker A: Exactly.
Speaker B: Rocket pool just happened to process the block. Therefore, a lot of these stolen funds turned into MEV and then got, you know, turned into rewards for rocket pool and a few others. But rocket pool has, like, that's where kind of the conversation is because, well, what does rocket pool do with the funds? Like, well, and what does it answer?
Speaker A: It basically spreads all of that, those MEV proceeds across all of the individual funds.
Speaker B: Yeah. So a lot of stolen funds just got sprinkled out to individual rocket pool.
Speaker A: Stakers, which is interesting. And I think a quick side quest here. Well, here's another one. So one MEV bot wasn't just rocket pool. This is an Mev bot called coffeebabe. EtH actually returned some of the money from the exploit. So returned $5.4 million. So if you're an individual staker, right. And this is kind of like a lottery system. So it's bit of random chance as to whether you'll get this reward in kind of the execution layer reward in MeV or not. But if you just suddenly receive $5.4 million worth of ETH in ill gotten gains, the question is, what do you do with it? Is it finders keepers, losers weepers? Did you just find like, oh, I found dollar 20 on the floor? I mean, you can't be like, hey, does anyone, does anyone own this? If you find that out in public, but in this case, you actually kind of know who owns the money, you could trace it. So what do you do? Do you refund it?
Speaker B: So I think it depends on the context, right. When we talk about rocket pool, and we're taking a very early rabbit hole down this one topic before getting into the rest of the contagion event, but this is definitely a side quest. But this is just what happened so early in these cascade of events. Coffeebabe eth. Actually, I need to check this if this is true, Ryan, but coffeebabe Eth front ran created an mev bot after the first crv ether liquidation, in the time that another, uh, re entrancy attack was going to happen again. But the second time that the hacker tried to steal funds. I don't know why they're. They're what? They didn't just do it all from the first. From the first, um, uh, exploit. Like, why didn't they steal 100% of it? Some funds might have come in from bots. There's a bunch of extra questions here. There's a lot of dust to be settled. But in the time that the exploiter decided to attack the CRV ETH pool again, coffee babe eTH coded up MeV Bot and Front ran that second and then also third exploits. And so in that second exploit, coffeebabe ETh front ran the exploiter and got 2879 ether that was drained from the curve ether pool again. And then that is now being returned to the curve deployer address, which is going to be able to actually determine where the right destination of that eth goes. But that's just because this one person figured out a way to code up this MeV bot, take responsibility and control over stolen assets, and stole money from a thief to return it back to the rightful owners. But when it goes back to. Okay, what about a decentralized system like rocket pool? These are all interesting questions as to how to actually contend with some of these things.
Speaker A: Yeah, so I guess in this case, the coffee Babe case, it's a bit more white hacky in that they just exploited something the exploiter was exploiting, and then, so they refunded the funds. And I, to me, is much more, I guess, morally clear. What's less clear is the case where you have this big mev reward and it's distributed across the pool of, say, stakers. What do you do? Do you actually.
Speaker B: And so what's interesting with Mev Burn, this would not have been able to happen.
Speaker A: That's the thing. That's kind of the punchline, I think that is important here, because what I'm worried about, David, is I don't know if you've seen some Mecca legislation that came down the bike last week, but there was some Mika legislation that basically would make it illegal to benefit from mev of this kind, like the unethical style of meV. And I get worried about that, when that sort of thing is settled in meat space, because then we go down this path of, well, do all validators have to be like, checked by the state? Aml KyC, how does the nation state actually enforce that? Because the protocol level is not. Anyway, it's an interesting side quest, but I agree with you that the best solution here is probably mev burnt, because then at least it's credibly neutral. And we sort of socialize these proceeds over all eth holders. I guess, you know, we're socializing the guilt there.
Speaker B: I mean, I would still put a white hat hacker ahead of that, because just because we're burning it doesn't mean we are okay with people having their money stolen.
Speaker A: Agreed. Well, so let's get back to the. To the main event. So what tweet are we looking at here?
Speaker B: Okay, so this is, this is Taylor Monahan, who we actually just did a Twitter space with, talking about some of the white hat hack hackers and, you know, just giving praise to coffee babe eth, you know, truly a babe. But we need to get into the contagion event that is around CRV, because as soon as CR V is sold first, there's not that much liquidity right now. I don't know if you notice prices, Ryan, but as bullish as we are, we're still in the bear market. So liquidity is already thin. And then when the CRV ether pool of where CRV gets its liquidity gets exploited, you would imagine that liquidity goes a, for that reason, and then b, because anyone else also supplying liquidity to curve token around DeFi gets scared of getting dumped on, so they, they withdraw their liquidity.
Speaker A: So now we're at the point of the story where the, the contagion is kind of, um, round, surrounding curve. The token, right? CRV. The token, yes, exactly.
Speaker B: And so CRV, the token liquidity starts to drain a, we accidentally see a flash crash of curve down to about $0.10 from seventy cents. And so inside of a very small period of time, curve went from $70 to then back up to $0.60 pretty quickly. Pretty quickly, without liquidating curve collateral across various DeFi lending protocols. But you can see how. I mean, I remember Terra Luna. I remember how, how. And then the curve is not terrible, never forget. But you, we all remember how, like, liquidity just drained very quickly our surroundings, surrounding these assets when it needed it the most. Hey, bankless nation, in this section, you're about to hear I say 8% of curve tokens. I actually meant 0.8%. I'm off by one order of magnitude. All the points still stand as everything is directionally correct, but 8% is ten times larger than the correct number, which is 0.8%. So we have spliced in this audio just to correct that for the record. And now back to the show. People fled for the hills, and all of a sudden, curve, the token is in a very precarious position where it doesn't take that much sell pressure to push that price down. Now, that wouldn't be bad. Tokens are allowed to go down in price. That's a normal thing to happen. This is what we do in Defi. Things go up in price, things go down in price. But that's not, just not where the story ends, sadly. And so the curve exploit exploiter, as a result of the curve pool, the ether curve pool currently holds 8% of the circulating supply of crv. And so that is about seven, that's 7 million curve tokens that we can see in the exploiters wallet. That's a lot of curve, 8% of the total circulating supplies, a lot of curve, especially when the hacker is capable of pressing a button and market dumping that thing. And also simultaneously, liquidity providers stop providing liquidity because they don't want to be dumped on. And so all of a sudden, liquidity dries up. And so this is setting up the dominoes. The dominoes are currently set up for a bad event in curve tokens. And we haven't even gotten to all of the collateralized crv positions across Defi. But you know, you can guess where we go next.
Speaker A: Well, let's just park that for 1 second. So this was the exploiter's wallet, the hacker's wallet, as of the 31st. So July 31. And by the way, all this happened, I believe, earlier in the week, it was a bloody Sunday, or bloody Monday, depending on your timezone, August 30 or August 31. And so the state of the hackers wallet at this point in time was all of the curve tokens that you were talking about, 8% of the circulating supply, and also a whole lot of ether as well. So about $14 million worth of ether. What's crazy about this? And I know I don't have to emphasize this for longtime crypto natives and bankless listeners, but we are witnessing yet again a bank heist play out in real time on the Internet, and we get to see it unfold step by step. And I just want to pause and reflect on how crazy is that, that all of this is public. And the on chain sleuths can track every single transaction here and we actually see the address of the exploiter and like, we can see every single move that this person is making in real time. That to me is just, we'll never not be crazy. But, yeah, that's what's happening here.
Speaker B: Yeah. This is what the blockchain provides, right? Like, global eyes are all watching the same addresses and the same contracts. There is currently a game going on right now around CRV, people that own crv before, uh, you know, traders Defi who defi people who play the DeFi game. A lot of people are watching the current state of CRv because if it's been two days, the, uh, curve exploiter has not made a transaction in two days. But that, I mean, curve is one button press away from basically being nuked to zero. So liquidity is currently kind of like resettling itself around. People are, there's a new equilibrium being established, but this exploiter has, you know, and they have seven, 8% of all curve supply, token of the curve supply. So it's a precarious position to be in. And like I said, we haven't even gotten to all the DeFi lending protocols.
Speaker A: That are out there, so let's talk about that next. And this is where sort of the founder of curve kind of enters as a main character here. The founder, Michael. His last name starts with an e. I won't pronounce it correctly.
Speaker B: Igorov. Igorov. Igorov. Yeah.
Speaker A: Yes. And so Michael owns 48% of the circulating supply of curve. So this is very heavy. Michael has very heavy curve.
Speaker B: He hasn't sold.
Speaker A: Yeah, hasn't sold. I guess, maybe bullish for maybe a four seller, but he has been doing something with all of those curve tokens. And the thing that he has been doing with, again, almost 50% of the supply of this not very liquid token. That's a lot of it. He's been lending that out, or, sorry, excuse me. He's been borrowing against that with lending and borrowing protocols. And here's a list of them. Here in Aave, there's about 34% of that. I'm not sure how much amount of curve.
Speaker B: So the round numbers, think about curve is about fifty cents a token right now. So $150 million in Aave v two, about $25 million in Abracadabra, $20 million in inverse finance, twelve and a half million dollars in inverse finance, excuse me, $20 million in Fraxland, and then $1.6 million in staked out, and $1.2 million in silo everywhere that curve is accepted as collateral. This guy has. Michael, Michael, Michael, what are you doing, bro?
Speaker A: Well, let's. So let's talk about that.
Speaker B: 48% of the circulating supply is not just in the hands of Michael, the founder of curve. It is also deposited as collateral and lending protocols everywhere. This guy is levered to the tits, dude.
Speaker A: Well, we don't know. Well, actually, I think we know pretty conclusively, because. Okay, let's. Let's recap what. What, um, a collateralized loan actually is. I don't know, David, if you've ever been degen enough to actually take out a collateralized loan with a heavily volatile asset.
Speaker B: You're familiar with this.
Speaker A: Oh, you are. So you've been in the situation where you're looking at a. Your liquidation number for the price of something. Let's call it ether, right? And you have a lot of your ether locked in collateral, right? So that's what the. The lending protocol essentially does, is you can deposit some asset. In this case, it's curved, but you could deposit ethereum, and then what do you get in return? You get some stable coins, let's say. So maybe it's dai. Or maybe it's something else in the Aave protocol. And what do you do with those stable coins? Right? Oh, you just put that somewhere else. And in treasury, anything else, right?
Speaker B: It's free money, right?
Speaker A: It's free money. You can buy whatever you want. No, I mean, you don't do the responsible thing, generally with these stable coins, which might be like, park them in t bills and earn an interest or. I don't even know if that makes sense. It would depend on the. And kind of the amount that you're paying for it. You're probably buying something in real life. You're probably betting on other tokens. Maybe you're so bullish on eth that you take against your eth in order to buy more eth. I don't know if I'm talking to anyone in the bankless audience.
Speaker B: I don't know. I don't know a single person who does this behavior. I don't know a single one. Dude, this isn't any of my friends, David.
Speaker A: This almost wrecked me. Like, legitimately. You have the reputation of being like gas, and I'm like, more bricks. Okay, old Ryan. Uh, uh, man, I.
Speaker B: Old Ryan was gas.
Speaker A: This felt. This felt very, like, breaksy to me, but, like, I had a number. Oh, do you remember when ether was above 1000? Back in 2019, or.
Speaker B: Sorry.
Speaker A: Back in. Back in 2017. 2018.
Speaker B: Yes. Right.
Speaker A: Yeah, I had a number. It's like, there's no way ether could drop below a hundred, right?
Speaker B: My ether just hit $1400. How could it ever touch $100?
Speaker A: Do that?
Speaker B: Couldn't be done.
Speaker A: So you could take out a responsible loan in a, like, lending protocol that was maybe double digits and that was responsible, let me tell you, the crypto, the crypto night ether went down into the eighties, your boy was almost liquidated hard that day. All right? And so, like, we got you.
Speaker B: Wait, did you do it? Did you have it like a compartment compartmentalized trading account? Or was it like your main stack?
Speaker A: You know, I'm not going to get into the details here on today's episode.
Speaker B: But, yeah, we've got a take that talks about this from Vance Spencer later on the show.
Speaker A: Let's talk about that later. So, so anyway, so you've got to imagine Michael here, the founder is absolutely, like, sweating because the value of his curve is going down. He's got a liquidation number right here, and then also the interest rates are going up. That's, that's kind of the context here as we, we talked through the rest of these details.
Speaker B: Yeah, no, that's right. And so on Aave is the big one. So on Aave, Michael has 305 million curve tokens backing a $63.2 million USDT loan. That's tether. And so in the AAve protocol, there are liquidation parameters for any single collateral. Like ether gives favorable liquidation parameters because there's no smart contract risk. It's very liquid. Curve doesnt have nearly as favorable parameters around the liquidation thresholds inside of AAve. And so he gets a 55% loan to value like margin, and so $305 million of curve backing a $63 million loan. And so thats pretty healthy. But you only get 55% of that. And so that turns into if a curve price drops about 33%, he would be liquidated, and then he's also paying 4% APY. And that is before curve got exploited. And so once all of a sudden, people realize that curve, the token, is at risk of going to zero because there is not enough liquidity in the market to absorb a market sell from the exploiter. People realize that lending, that lending stablecoins to any of the marketplaces that has curve as collateral is risky because all of these lending protocols might have bad debt. If curve goes to zero and all of the curve tokens get liquidated, but thats not enough to cover the hole. Then all of a sudden, stablecoin suppliers are left holding the bag. If the protocol cannot cover the difference what happened? What does the rational economic actor do in this scenario? Well, they stop taking the risk. Theyre saying, hey, theyre not going to take the four to 10% APY when they might lose 50% in the next day or so. So they start withdrawing. And so what happens when a DeFi lending protocol has stablecoins withdrawn from it? The utilization ratio goes up, as in more and more of a percentage of these stable coins that are lent to these protocols are actually already being borrowed. And so this is just a natural way for these AAVE money market type systems to naturally balance themselves when there's not many stable coins. There's insufficient supply of stable coins lent to the protocol and more people are borrowing them than supplying them. It just jacks up the interest rates. Here's Del fly Digital's tweet at 100% utilization, which is for tether, which it currently is at all tether tokens. All USDT supply to aave is being borrowed by Michael and others because all the US eT lenders are like, oh no, I'm getting out. So at 100% utilization, the interest rate doubles every 12 hours. The current payment that you pay for borrowing tether from AAVE is 81% and that can increase to a maximum of 10,000% APY after just 3.5 days. So basically, like Michael's got a date with destiny, he's going to get liquidated at this current rate because the interest rates are just accruing up to his point too fast.
Speaker A: Unless there's a hope, David. Unless he can continue paying. Unless he can pay interest and stay ahead of it, right? Keep just staying ahead of it as.
Speaker B: They just pay down his. He needs to sell curve for tether and pay back his loans. That's what he needs to do.
Speaker A: So it's hard when the price is dropping, right?
Speaker B: Yes. Especially when the price is dropping. Yes. So, but this is what he did, actually. So he was able to sell some of his loans. This tweet doesn't have it specifically. We'll get. There's another tweet that we have later in this agenda. But he otcs a bunch of curve and he paid. He gets about $16 million. Yes. Here we go. So Sandra is an account that apparently covers OTC trades. And so here are some curve movements from Michael to other people at 17.5 million curve to an unknown address. 5 million curve sold to Justin sun. So Justin sun coming into bid. 4.25 million curve to DcF. God. 2.5 million curve sold. 2.5 million curve sold. So buyers are stepping in and buying curve. We do not know the price that they were sold for. Ignis Defi Research, who I think does a pretty good job, hypothesized about four cents a token. And with the current curve price of about, I think $0.55. If you want to pull up coingecko for curve, that's a pretty hefty discount, $0.58. So you can go to curve or Uniswap, wherever CRV is sold right now on the market and buy a curve token for $0.58.
Speaker A: Not financial advice.
Speaker B: Not financial advice. I'm saying this is just what the market is offering. Is just what the market is offering you. Theres speculation that the OTC trades for a very large amount of curve tokens. He was getting about forty cents per token. And thats just because if he had sold these tokens on the open market, he wouldve gotten probably a worse rate than that.
Speaker A: Preston so again, youre Michael. You dont want to get liquidated at a very low price. So what are you trying to do? Just trying to stay a step ahead. And youre trying to ideally pay down those loans in order for your money. So what are you doing? Youre getting funds from other sources off chain, basically. So Justin sun coming in with like a $3 million check and buying some curve tokens. OTC, that just means over the counter. It's just like private telegram group or something where, yeah, Michael's like, hey, Justin, you want to buy some curve? And he's like, what will you give me? And then Justin's like, I'll give you, or Michael's like, I'll give you this rate. And, you know, Justin, I'm sure has some provisions. That's what's happening in order for Michael to kind of raise these funds.
Speaker B: Yeah, that's exactly right. And so raising about $16 million. And so remember, he's got enough. He's got an outstanding debt of $110 million pledged against $290 million of curve tokens. That's before curve went down in price. So he owes $110 million and he just raised $16 million. That's not, that's not a lot. It's not a lot.
Speaker A: Man gotta be smart.
Speaker B: He needs a little bit more margin than that, ironically. Okay, so this is advance Spencer. Take that I was talking about earlier. Defending your liquidation price on chain is a religious experience. Call God. Call God.
Speaker A: That hits, man.
Speaker B: Yes, that hits. I have been there. I have done that before. So this is Michael, ironically, I don't mean to kick a guy when he's down, but this is just too good. July 22. How many days ago was that? Ten days ago. Still haven't. Still shocked that I haven't yet been affected by defi hacks.
Speaker A: Ooh, shit.
Speaker B: Oof. That's unfortunate, man.
Speaker A: Yeah, I mean, but I guess there's an element of, you know, it is. It is kind of shocking, but now it's happening. Wow. You can never count your chickens here.
Speaker B: Yeah. Okay, so this individual lives in Australia, and there's a. There's a few australian defi protocol founders who are also. I don't know if they directly are, but they imply that. It's kind of funny. It's a funny meme on crypto Twitter that they just have these, like, mansion comparison fight, fight, like, mansion offs, if you will. Michael. Yes. Michael has not one, but two mega mansions in Melbourne, Australia, not too far away from our good friend Anthony Cesano. Anthony Sono does not have a mansion that I know of, not the one I've been invited to. He bought. This is actually. This picture. These two pictures that we're seeing at is actually the same mansion from different angles. I don't know where the other one is. Um, this one he bought for $40 million. This is for the bankless listeners who are not watching YouTube. An insane house, an insane property. We're looking three. It's kind of nice. Yeah, we're looking at three stories. It's gotta be, like. Could be like a ten bedroom kind of thing. There's a pool. There's, like, a gar. It's. It's. That is a mansion and a half.
Speaker A: Let me just say we don't know the particular circumstances for Michael. He could have been, like, made his investment money elsewhere. He could have, like, um, bought bitcoin, you know, back in 2010. The proceeds. But one has to wonder if some of the stable coins that he withdrew, borrowed. Borrowed against his curve, went to fund in real life things.
Speaker B: Well, Ryan, he bought this house two months ago, and he currently borrowed $110 million to buy a $40 million mansion. I don't know if it was directly. I put up money inside of Aave. I withdraw stablecoin, send it to my bank account, and buy a house with that money. I don't know if it's that clear, but when you buy a $40 million house with $150 million of stable coins borrowed, that factors into your decision making at some point in time.
Speaker A: I think so as well. At least I can say that factored into my decision making. And again, like, not knowing Michael's particular situation, it's impossible to fully weigh in on it. Why would someone do this? One reason to do this is you don't have to sell your curve tokens. There might not be liquidity if he owns 50% of the curved market. And if you were to just sell even 5% of that, it's going to tank price for a while. Why sell your curve token if you're bullish on the project, you're the founder. When you can lend it essentially in a protocol, and you have a liquidation price, you know the minimum amount you'll make from it. That's one reason you might want to do that rather than just kind of market sell in order to buy your in real life stuff or, like, you know, get. Get some money out of the system. The other reason you might do it is to avoid capital gains taxes is what wealthy people, like, have been doing for all the time. Rather than sell your actual asset, you just get a loan against that asset, borrow against that asset, you don't have a capital gains tax event, and then you can go do whatever you want with the proceeds of that. Might be another reason. Impossible to speculate. But one thing I will say at this point in time is the lesson is, you guys ready for it? Don't use leverage. All right? Like, this is a very bad position to be in. I don't. You know, like, it seems very clear that Michael does not have the liquid cash in order to pay down his loans, or else he would. I'm sure he's sweating. This could happen to you, bankless listener. If you kind of play these games with volatile assets. So, um, that is one lesson certainly we can take away from this. But there are definitely other lessons on.
Speaker B: The whole leverage piece. Like, yeah, leverage is a tool. It requires, like, you really need to be thoughtful and intentful with when you use it and why you're using it. The mistake, like, to not, like, leverage is a tool. So, like, can you use leverage? Of course you can. When you use leverage with your entire stack, you don't give yourself any margin for error because you have no more bullets left. And so when you use all your money and then you leverage all your money, you got nothing. You have no tolerance. And so the thing that Michael did not account for when he was making his economic decisions, like, granted, like, he didn't. He didn't account for curve getting exploited. He didn't account for a re entrance to hack and Viper, and that's why we're here today. But, I mean, he didn't have any margin for error for any sort of event like this whatsoever, because he leveraged up his entire stuff.
Speaker A: I mean, I will say some have made the point that this could have been intentional and that there's a perverse incentive going on here, too, because what you can do, in a way, is if you have a large amount of some particular token, you get a loan against it. You sort of set your sell price as kind of a liquidation price, basically. And if you kind of go under, there's an element of you can socialize your losses to that protocol. So some have pointed out that this is actually an incentive mismatch at play where, like, hey, should someone be able to kind of do this in this type of scenario, there's like, a founder could just, rather than sell their tokens, take out a loan against it, and then who's the bag holder at the end of the day? Well, we'll get to that later. But maybe some of these protocols, maybe Aave gets a haircut, aave token holders rather than Michael. In this case, I see a little bit of that. But at the same time, that is what the protocol is supposed to do. If youre a lending and borrowing protocol, youre supposed to manage risk appropriate in these types of scenarios.
Speaker B: Okay, so moving on in the story, one of the things thats going on right now is that all of these lending protocols are realizing that they are in a precarious position for exactly what you said. Right. If curve gets market sold, then all these lending protocols have bad debt. So what are these lending protocols doing? Well, Fracs, Aave, theyre all naturally increasing the interest rates at which they are charging Michael. And so interest rates are going up. Another interesting thing about this story, Ryan, is that Aave, not too long ago, had a governance proposal submitted from Gauntlet, and Gauntlet does exactly this kind of thing. It does economic modeling on chain. So it tells you about potential black swan risk events due to the parameters of liquidity for particular assets. Just in June 18 of this year, not too long ago, Gauntlet said, hey, Aave needs to free crv and jack up the risk parameters around crV, because the on chain liquidity does not bode well for any sort of. It's a precarious position. And Gauntlet identified this. Too risky. It's too risky. Exactly. Yeah. And this was actually struck down 100% to zero by Aave governance.
Speaker A: Wow.
Speaker B: And so Gauntlet said, hey, just not even twelve days ago, 12, 20, 14 days ago. Two weeks ago, Gauntlet was like, hey, these curve parameters are all whack. They need to be fixed. We need to shut down this market. And Aave was like, aave governance was like, nah.
Speaker A: And it was because there's a single. They say this the motivation. Looking at the risk profile of this address, I assume this is Michael's address.
Speaker B: Yeah.
Speaker A: One account has borrowed roughly $63 million.
Speaker B: Oh, yeah, that's fine.
Speaker A: 190 million of crV. We recommend. Yeah, to one. Freeze crv collateral, and they basically wreck. Oh, they're recommending to freeze crv collateral and set the curve LTV to zero, is what they recommended back then.
Speaker B: That's interesting. Okay, so, actually. So I'm just learning this right now in this post. Gauntlet says, as of June 13, this account, Michael has borrowed 63 tether. A million dollars of tether against 190. So I didn't realize how recent this was, but again, of course, recently, just a few months ago, he bought the house, and so. And then the viper exploit happens. Wow.
Speaker A: Wow. Well, this is what the. This is why it's kind of hard to govern lending and borrowing protocols, isn't it? This is kind of the squishy role where you have to, like, assess the risk of a particular asset before you let it into the lending and borrowing protocol and set kind of your threshold for how much can be borrowed against it and how much you're willing to lend. Right. And that's what's happening on these. These governance forms. Because if you get it wrong, what's the cost? Well, your protocol, your tokenization has to essentially absorb that somehow if you have kind of insurance type of side pocket. So you're the one getting a haircut from that. So it's interesting that this was updated so close to the event. I'm sure people wish they could change.
Speaker B: Their vote, but can't happen a little bit late now. All right, so there's a few more topics that we have coming up in the rest of the show. We have this protocol game of chicken that we need to talk about. Martin and I are going to unpack what's really at risk here. Like, what happens, like, in theory, what would happen if there is a cascading liquidation event? What happens if Michael does get liquidated? What happens to that? Is there a systemic risk in Defi? And then we got some takes in what we are going to be able to pull out as learning lessons from this event. So all that is coming up right after we talk to some of these fantastic sponsors that make this show possible, especially Metamask. And metamask, brand new feature, Metamask portfolio, which can give you the lay of the land for all of your collateralized positions that maybe you should keep a better eye on as we go into this bull market. Lets go here from MetAmask right now. One of the big parallels, Ryan, that I think I remember after covering the three arrows capital liquidation, was that a very low number of people can actually be the reason of systemic contagion in crypto. Remember when three arrows capital was getting liquidated, they were doing whatever they can, pulling out all the stops to borrow as much money from different corners of the crypto ecosystem as possible. And thats how voyage ledger, blockfi, any lender that would lend money to 3 hours capital all got effed because three arrow capital was the contagion. And so I actually see a similar pattern. Thats one of the big learning lessons between that and this is Michael put curve in every single place in DeFI that would allow him to collateralize curve. And so now this is how the contagion happened. One single actor actually spread out all of the contagion, and because of the weakness in the curve, all of a sudden, this is how contagion works. Aave, for example, where the biggest loan position is, actually does have an insurance fund. And so they have the safety module, which grows and grows and grows from fees collected by the Aave Dao. So there's $327 million in the AaVE safety module, which is actually more than enough to pay for any sort of hole that Michael may leave in Aave. There's one problem here, which is that that safety module, $327 million, is actually denominated in AAve. So there's a little bit of reflexivity there. And so if Aave, I think Aave, if the worst case scenario, they would have to cover, like $80 million or $60 million of curve in AAve. And so, like, if they were going to have to sell Aave into the market and to cover that loss, which means that the actual size of that safety module is also precarious, because it's denominated in its own token. But that's one of these. Another one.
Speaker A: That's the token holder haircut that we're talking about.
Speaker B: That's the token holder haircut. Yeah.
Speaker A: That sale is going to affect the price of AAvE if it happens. Yeah.
Speaker B: Same exact mechanism is when MKR has to get sold to cover for bad die debt, which actually only happened once, which was black Thursday, right. During COVID when you were getting the.
Speaker A: I remember that. How much was that? That was a few million. It wasn't that much.
Speaker B: It was. Yeah, 12 million, I think it was. But 12 million back then was actually a decent number of amount of money because we were all super broke. All of crypto was broke. But, yeah, that's kind of the precarious nature of, like, using your protocols own token as the defense. As the line of defense.
Speaker A: I think that's very precarious. Like, that's systemically. Yeah, that's a great point here, but at least they have a.
Speaker B: At least they've got it. Yes, I alluded to this earlier, but I'll double down on it now. Because Michael had a curve all over lending protocols. Different lending protocols are all realizing that they need to get paid back first, or else they might not get paid back at all. And so Michael rushed to repay the loan on Fraxland first because that's where the borrowing rates were highest. And so now, naturally, all the other protocols with curve collateral also want to increase the borrowing rates because they're like, I mean, this is happens in the. They don't want to hold it, so they're like, hey, we need to jack up the rate. So Michael pays us back first. And so there's this, like, protocol game of chicken going around because no protocol wants to be holding the bag. And so who are these protocols? We talked about them earlier, but magic, Internet money, Mim, inverse finance, Silo Dao and AaVE are all these different protocols that are all figuring out how to deal with this problem silo Dao has, for some reason, is chill, says Ignis from DeFi Research. DeFi research is just what he does, because the risk is isolated. That's must be a specific design for an a for a money market. But each one of these protocol daos are, like, figuring out, like, hey, we don't want to hold the bag. Let's jack up the interest rates.
Speaker A: Well, that's a real, like, moloch trap dilemma, because, like, we would all be better off.
Speaker B: Like, everyone just put the interest rates to zero.
Speaker A: Like, honestly, at this point, like, we're rooting for Michael. Like, all of Defi wants him not to get liquidated, or it causes bad things at this point in time, so rooting for his positions anyway. But what happens is, when you have this kind of prisoners to lemon the scheme of chicken, then you're incented to kind of defect first. And the faster they defect and the more they raise interest rates, the more likely it is that Michael gets liquidated. And so that's kind of a bad race condition that's happening right now.
Speaker B: Yeah. So that's what's currently going on with the amms. What else is there to talk about? Systemic risks to Defi? Is there systemic risk to defi? I don't think so. I don't think these holes are that big, where, like, I currently have an aave position. It's not curve denominated, and I'm not lending stables into Aave. I'm not necessarily too worried. I don't really think. I don't feel like I'm at risk. I do hold aave tokens, but, I mean, I've hold them down to lower numbers than what they might go to, so I'm not particularly worried about that either. I don't think there's that much contagion, but there's a big fog of war here.
Speaker A: I agree. I mean, the thing affected right now, the contagion seems to be primarily focused on the CRV token itself and then everything affected. So there's a question of, like, well, the contagion has kind of spread to these lending and borrowing protocols, essentially, and it's not going to be existential, probably, for any of them, but it is a haircut. It's like some pain. And the question is, well, will they look at these governance proposals a bit more carefully when they're from gauntlet or something, and there's one single holder with a very large portion of the lent amount? I think the answer is yes. And that is how we all level up together. But I agree with you, David. I don't think that at this point in time, this spreads systemically across all of defi. So that is good, because reality is, this could have been a lot worse.
Speaker B: Right?
Speaker A: Zero day, Viper, evm, bug. Right again, you said at the very beginning that those are words you do not want to hear. And so we are like, we are hashtag blessed that this wasn't a far worse event at this point in time.
Speaker B: Well, not knock on wood, because it's not over. I just sent you a tweet in the zoom chat if you want to pull that up from Delft. So this is the current. As of about 24 hours ago, yeah, 24 hours ago. This is the current positions that Michael has. So Ave, Fraxen, abracadabra. $54 million owed, $8 million owed, $14 million owed. With all the different collaterals and different liquidation prices he's currently paying, he might have already paid off the fracs. He's currently paying 124% APY on $8 million borrowed from fracs. He's currently paying 50% APY on 54. $4 million borrowed from Aave and then 18% on $14 million borrowed from Abracadabra. Liquidation price. The highest one is at Aave, which is also the biggest position at $0.37. So that is the line that curve must stay above in order to prevent any sort of cascading liquidation.
Speaker A: Unless Michael can somehow raise more to raise more capital off chain and pay down those loans.
Speaker B: But $0.37 is the number to say above. What's. What's the current price of curve? You want to open up that coin, gecko? Current price of curve, $0.58. So he has room. He's paying a lot. He's paying a lot.
Speaker A: Yes.
Speaker B: Room chart doesn't look great, but fifty eight cents to thirty eight cents, that's.
Speaker A: There's room for sure.
Speaker B: You can make it.
Speaker A: This is like a. If he makes it, he can make a it. Wow. But, like, this is like watching a slow motion train wreck that actually might not happen. Like, it's just like, it looks like it's about to happen, but it might not happen.
Speaker B: It might not.
Speaker A: Might be able to bail this out. Roon Christensen had a take here. Curve getting exploited, risk of bad debt and liquidations in the ecosystem. This might seem like it's an over moment, but perhaps it's just cycles. This cycle is black Thursday as the one you were referring to.
Speaker B: Ruhn would know a thing or two.
Speaker A: He calls this maybe the last crash before the bull market with everything coming back 100 x stronger. Yeah, well, there's an element of that, maybe.
Speaker B: I think that's right. I think that could be.
Speaker A: I like to pattern match history.
Speaker B: I love. I love that. Bull markets. Yeah. And this is. This guy would know a thing or two about, because Ruhn, he's the founder of Makerdao. He was definitely paying attention when Makerdao had its black Thursday. Now we're having black Sunday Monday.
Speaker A: Well, so let's talk about this. Let's end the episode here, David, with what do you think we learned from all of this? What's. What's your take on the lessons here?
Speaker B: The biggest thing that's rattling around in my brain is, man, curve had a lot of Lindy. That protocol was deemed safe.
Speaker A: What do you mean, Lindy?
Speaker B: Lindy? Lindy is. How would you explain Lindy? Very simply, always you like to use the example. What do you think is going to be around? What would you make a bet on and being around in a longer amount of time? The pyramids of Egypt or the White House?
Speaker A: It's clearly Egypt, right?
Speaker B: Yeah. Because the White House is like a couple it's like 100 years old. In fact, the first White House burned down and so it's Lindy got reset very quickly. Fun fact is, we're on the second White House already. Pyramids of Egypt have been around for thousands of years. So, like, what are you going to bet on to be around for another thousands of years? The thing that's already been around for a thousand years, curve, had a lot of Lindy, it had a lot of TVL for a very long amount of time, and then it got hacked. I think this might set the record as like the longest Lindy resetting event in Defi's history. I think that's probably correct, and that hurts.
Speaker A: But you know, what's also interesting here is like, it also wasn't Kerr's fault at all.
Speaker B: Yeah, it wasn't at all.
Speaker A: I think there's a lesson here, and that lesson is almost like, scary. So this wasn't like a smart contract risk where Michael and the curve team, the developers over there, could have been more careful, wish they had audited more, that sort of thing.
Speaker B: Right.
Speaker A: This was deeper in the stack.
Speaker B: Yeah, that's as deep as it goes.
Speaker A: This is a problematic kind of EVM compiler level with a viper. Specifically a couple of versions of Viper. Right. It was like introduced at one point in time and then it kind of like, you know, is no longer the case in the newest versions of Viper. It was like accidentally introduced. That in itself is kind of scary. So we might say that solidity Lindy has a stronger lindy than Viper because it's an older language and it also has more assets that are dependent on. It's more vetted. Right. And so I think there's a lesson here of, well, again, what do we always say at the end of every bankless podcast? Crypto is risky. You could lose what you put in. Like, the lesson is, you never know. But then there's also a question of what other zero day bugs lurk in the code base out here. And I do think that that solidity EVM, is becoming a bit more like Egypt pyramids. And I wonder and worry about some of the newer languages and other ecosystems. At some point in time, something like Solana is going to have its viper, its compiler moment.
Speaker B: Yeah, yeah.
Speaker A: And Viper itself, which is interesting. What's the future of Viper? Who's going to use it moving forward? So there's that kind of learning here. The last thing I'll say is, is this an example, do you think of like, okay, so Viper is a public good, right? I guess I feel like all of the, all many of the actors who have some responsibility for this are kind of like feeling the brunt of this. So in that way, Defi is kind of performing as expected. It's not like socializing the losses to the public. Right. So if you, if you are in Aave and you chose to lend more money to curve, kind of knowing the risks here, well, you get a haircut. That's as it should be, right. If you are Michael and you're lending all of this CRV inside of a protocol and taking excessive leverage, well, you get hit, too. And so you're kind of, I guess, punished for this. And of course, curve is, as with all DeFi protocols, appropriately risky. So from my perspective, Defi is performing as expected, except that theres this one thing, this public good that we call Viper, an EVM language. How well funded is that? Its like the public infrastructure that were really not paying attention to. And so theres probably other places like this inside of crypto that are woefully underfunded, but should be funded far better and should be audited and should be vetted far better, because, like, that's Atlas's shoulders that the entire thing is kind of hanging on. So that's another takeaway to me.
Speaker B: Yeah. And this is something that you can audit, you can vet, you can audit again. You can audit again. You'll never know. You'll never actually know. You're muted.
Speaker A: Is there anything comforting here as we enter? Silver lining.
Speaker B: Couldn't have been worse.
Speaker A: I mean, we made it, right? That's good.
Speaker B: We made it. Did we?
Speaker A: We did. We made it. I mean, imagine if this had been a solidity, like EVM issue.
Speaker B: Yeah. Yeah. What doesn't kill Defi does make it stronger. Yeah, I guess that's a takeaway.
Speaker A: Yeah. And, and all of the protocols performed as expected, according to the rules. We didn't socialize losses. There were no bailouts. I don't know. No, there's a silver lining there, David.
Speaker B: I think I'm going to take a few moments to try and think of some more silver linings, but we'll do it on the weekly roll up tomorrow.
Speaker A: Guys, that's it. We got to end with this, I think, quite appropriately. Risks and disclaimers. Crypto is risky. So is Defi. You could lose what you put in, but we are headed west. This is definitely the frontier. It's not for everyone, but we're glad you're with us on the bankless journey. Thanks a.
